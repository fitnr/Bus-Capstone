%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% LaTeX Template: Project Titlepage Modified (v 0.1) by rcx
%
% Original Source: http://www.howtotex.com
% Date: February 2014
% 
% This is a title page template which be used for articles & reports.
% 
% This is the modified version of the original Latex template from
% aforementioned website.
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[12pt]{report}
\usepackage[a4paper]{geometry}
\usepackage[myheadings]{fullpage}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{biblatex}
\usepackage{url}
\usepackage{hyperref}
\usepackage{graphicx, wrapfig, subcaption, setspace, booktabs}
\usepackage[T1]{fontenc}
\usepackage[font=small, labelfont=bf]{caption}
\usepackage{fourier}
\usepackage[protrusion=true, expansion=true]{microtype}
\usepackage[english]{babel}
\usepackage{sectsty}
\usepackage{url, lipsum}


\newcommand{\HRule}[1]{\rule{\linewidth}{#1}}
\onehalfspacing
\setcounter{tocdepth}{5}
\setcounter{secnumdepth}{5}

%-------------------------------------------------------------------------------
% HEADER & FOOTER
%-------------------------------------------------------------------------------
\pagestyle{fancy}
\fancyhf{}
\setlength\headheight{15pt}
\fancyhead[R]{Center for Urban Science and Progress}
\fancyfoot[R]{Page \thepage\ of \pageref{LastPage}}
%-------------------------------------------------------------------------------
% TITLE PAGE
%-------------------------------------------------------------------------------

\begin{document}

\title{ \normalsize \textsc{Capstone Project for the Master of Science in Applied Urban Science and Informatics}
		\\ [2.0cm]
		\HRule{0.5pt} \\
		\LARGE \textbf{\uppercase{Bus Reliability Metrics using Public MTA Bus Time Data}}
		\HRule{2pt} \\ [0.5cm]
		\normalsize \today %\vspace*{5\baselineskip}
		}

\date{}

		\author{
				Jiaxu Zhou \\
				Yuqiao Cen \\
				Matthew Urbanek \\
				Bonan Yuan \\
				Sara Arango-Franco \\ 
				\\
				Advisors: \\
				Dr. Kaan Ozbay \\
				Dr. Huy T. Vo \\
				\\
				Sponsor Agency:\\
				Department of Transportation, City of New York\\
				\\
		\textbf{Center for Urban Science and Progress} \\
		\textbf{New York University}}
		
	

\maketitle
\tableofcontents
\newpage

%-------------------------------------------------------------------------------
% Section title formatting
\sectionfont{\scshape}
%-------------------------------------------------------------------------------

%-------------------------------------------------------------------------------
% BODY
%-------------------------------------------------------------------------------

\section*{Brief}

Despite a growing demand for public transportation in New York City, bus ridership levels are declining.  This can be explained by drops in vehicle speeds and customer perceptions of dependability.  The \textit{New York City Department of Transportation} (NYC DOT) wished to engage the \textit{New York University Center for Urban Science and Progress} (CUSP) to explore the use of public vehicle location data from the \textit{Metropolitan Transit Authority} (MTA) Bus Time to generate operational data relevant to the DOT's planning decisions.  This information is provided in the form of reliability metrics for bus service.

Based on the MTA \textit{Automated Vehicle Location} (AVL) data and its public Bus Time API, the team performed a data assessment analysis for the data generating process and the data collection process. We also deliver methods for estimating bus travel and stop times, measuring reliability with different metrics, and settles the ground for the DOT to identify the distribution of reliability measurements as a function of factors regarded as relevant to their practice.
        
\section*{Aknowledgements}

We would like to express our sincere appreciation to all who have lent us hands during this time.  First of all, we would like to show our sincere gratitude to our sponsor agency, the New York City Department of Transportation, for giving us an opportunity to focus on this important city issue.  We would specially like to to thank Jeremy Safran, who gave us plenty of insight into the way the DOT wants to treat and understand bus data analytics.  Secondly, we would like to express our gratitude to our advisors, Dr. Kaan Ozbay and Dr. Huy T. Vo., not only for their technical expertise but for their generosity and willingness to lead us through this process.  Last but not least, we would like to thank Kai Zhao, Abdullah Kurkcu, Ender Morgul, and our classmates in CUSP who gave us assistance and advice during this process.  We will always be thankful.


%-------------------------------------------------------------------------------
% REFERENCES
%-------------------------------------------------------------------------------
\newpage

\section{Overview and background}


\subsection{	Statement and Description}
Although demand for public transportation in New York City is growing, bus ridership levels are declining.  Many reasons can explain this, including drops in vehicle speeds and customer perceptions of dependability.  This project focuses on identifying these two factors along the city's MTA operated bus routes, in the form of reliability metrics that are relevant to the DOT as the municipal traffic authority.

The DOT keeps records of the MTA bus system, but the agency lacks a formal process for compiling and analysing it according to their decision making capabilities (such as those related with road design and traffic management), which substantially differ from the MTA's purposes and reach. Despite the MTA (which is the agency in charge of operations) has internally defined metrics used for scheduling, planning and analysis of the bus service, this agency pays more attention to the bus level instead of the whole system level, which is more of the interest of the DOT.
 
To help the DOT improve their planning efficiency, this project aims to measure the dependent variable metrics related to bus performance and reliability, enabling the agency to, in a further analysis, understand the effect of independent variables that affect service quality. CUSP developed methods for estimating bus travel times and measuring reliability, while performing data quality analysis of the MTA Bus Time API data (from which the data was collected to this exercise) and the MTA schedule data (referred to as \textit{GTFS} in this document for its format, \textit{General Transit Feed Specification}). 

\subsection{Goals}

The goals of the project can be summarized as follows:

\begin{enumerate}
\item Perform a thorough data quality assessment on the MTA Bus Time data.

\item Implement metrics related to the performance of the buses with respect to their planned schedule.

\item Document the entire process and deliver flexible code, so both data quality assessment and reliability measurements are more clearly evaluated by the agency.
\end{enumerate}


The project has been developed following the milestones below:

\begin{itemize}
\item Bibliography review; 
\item Data extraction; 
\item Identification of pitfalls and irregularities in the data generating process;
\item Estimation of the departure and arrival times at bus stops and other locations (in other words, extrapolation); 
\item Measurement of bus performance and reliability metrics, with a flexible implementation;
\end{itemize}

\newpage

\section{Project offerings}

The contributions from our work can be summarized as follows:

\begin{enumerate}
\item The estimation of departure and arrival times based on AVL data for the specific case of the Bus Time API records. 
\item Flexible and potentially novel bus performance metrics for the data set in question.
\item Quality assessment for the Bus Time API dataset.
\item Flexible and reproducible code to allow further implementations and variations of our analysis.

\end{enumerate}

\newpage

\section{Approach}

In this section we discuss the data parsing, processing and reliability measurement techniques.

\subsection{Data techniques}

MTA's AVL data is acquired using a ''get'' request to a \href{http://bustime.mta.info/}{web service} offered by the MTA to the public.  The service uses a data standard called \textit{Service Interface for Real-Time Information} (SIRI). 

\textbf{[Discuss parameters, API response time, and dependency constant internet connection.  Also discuss accumulated size (each is ~3MB, so an entire year can be >3TB).]}

Per MTA's recommendation, the response data is requested in JSON format (\textit{Javascript Object Notation}).  JSON offers a flexible structure, for example allowing elements to be stored in hierarchies, or a combination of named and unnamed elements.  JSON does not transform directly to a tabular layout and as a result cannot be imported by typical data analysis tools like Microsoft Access or Excel without first parsing it.

Parsing can be performed using a variety of approaches.  A small program that can be written on almost any personal computer (a macro, or command-line script) may be acceptable for parsing one JSON response, requiring in the order-of-magnitude one second for each JSON.  However this is likely unacceptable for reading and aggregating any meaningful amount of archived JSON response files (entire days, or entire lines over multiple days).  Advanced techniques requiring additional software or hardware (to be discussed further on in this report) can significantly improve processing time by distributing the data across multipler processing units.  Regardless of the technique, the extracted data has a straightforward structure, containing text and numerical elements (which can be stored as text), appropriate for storage in a comma-separated values (CSV) file.

A risk that remains to be investigated is incomplete (blank) vehicle data elements.  Faster techniques for parsing of JSON into tabular format require each observation to contain data according to each element extracted.  This results in rectangle-shape data set with no need for validation of each row.

\textbf{]Discuss GTFS. Bus schedules for a given trip include a reference date]}

The SIRI standard calls for date-time representation according to the ISO 8601 standard.  While this can be read directly and used for many typical calculations (for example, elapsed time), it poses a problem when performing any analysis requiring date or time data from the planned schedule for the buses.  Those analysis require both the “true'' date-time element as well as the trip reference date.  Here are two example comparisons of a bus trip's estimated departure from its first stop and the corresponding scheduled departure time. Such a comparison may be used to explain whether bus reliability can be attributed to operational issues such as late departures from the depot.  Note the conversion.

\vspace{0.5cm}

\resizebox{\textwidth}{!}{
\begin{tabular}{l l l l}
\hline
trip\_id & Time stamp & Converted time stamp & Scheduled time \\
\hline
OH\_B6\-Weekday\-SDon\-077600\_M101\_100 & 2016\-06\-13T13:09:32.000\-04:00 & 0d\+13:09:32
& 13:08:55 \\
MV\_B6\-Weekday\-SDon\-041500\_M5\_206 & 2016\-06\-14T01:20:42.000\-04:00 & 1d\+01:20:42 &
25:12:15 \\
\hline
\end{tabular}
}

\vspace{0.5cm}

Note that time zone information is dropped in this conversion.  While this may become problematic if these approaches are applied outside of New York City, the only related risk in this application is to the validity of data from bus trips that occur during Daylight Savings Time shifts.  We elect to deal with those issues tactically rather than add complexity across the entire data set.

\subsection{Big Data Techniques}

HDFS
HDFS is a Java-based file system that provides scalable and reliable data storage, and it was designed to span large clusters of commodity servers.
The data must be first uploaded into HDFS to perform big data operations.
Apache Spark 
The total dataset size for one year is over 2 terabytes and stored in nested json format, which is impossible to analyse by any traditional way.
Apache Spark is an open source cluster computing framework that performs parallelized stream computing using multiple CPU cores. Apache Spark is proved to be the fastest open source framework (100 times faster than Hadoop).
Spark SQL
Spark SQL is a Spark module for structured data processing.  Spark SQL relies on Spark Dataframe to operate, while Spark Dataframe is a column structured data collection that can be easily saved to csv for further analysis. 
Spark SQL is efficient and reliable and SQL files are easy to share and cooperate.
Data Schema
The original data is stored in nested json format with lots of redundant information.
The schema function based on Spark Dataframe allows us to understand the data structure in a more distinguishable fashion.



\resizebox{\textwidth}{!}{
\begin{tabular}[small]{l|l|l}

\textbf{JSON ELEMENT(schema)} & \textbf{Column NAME} & \textbf{Explanation} \\
\hline
\hline
LineRef &	ROUTE\_ID &	Name of bus line(B42) \\
VehicleLocation.Latitude	& latitude	& latitude of record \\
VehicleLocation.Longitude &	longitude	& longitude of record \\
RecordedAtTime & recorded\_time & What time it gets recorded \\
VehicleRef & vehicle\_id & ID of vehicle \\
FramedVehicleJourneyRef.DatedVehicleJourneyRef	& TRIP\_ID & 	Same as trip\_id in GTFS*\\
FramedVehicleJourneyRef.DataFrameRef &	trip\_date	& Date of the trip \\
JourneyPatternRef & SHAPE\_ID	& Same as shape\_id in GTFS* \\
StopPointRef	&STOP\_ID &	Id of next stop,Same as stop\_id in GTFS*\\
Extensions.Distances.DistanceFromCall & distance\_stop & Distance to next stop \\
Extensions. Distances.CallDistanceAlongRoute & distance\_shape & 	Stop\_s total distance along the shape \\
Extensions. Distances.PresentableDistance & status & Report the current status of bus to next stop \footnote{Approaching, at stop, 1 station away.}\\
DestinationRef & destination & Headsign of bus\\


\end{tabular}
}

\subsection{Measurement techniques}

Two methods are investigated for estimating a vehicle's arrival time at a certain location, such as a bus stop.  Arrival time estimates are the basis for most measurement and identification related to bus reliability, such as vehicle speeds, block times, and headway (which in turn is required for wait assessment).  The first method uses a spatial algorithm to identify any datapoints within a certain radius of the location, and make an estimation from within that subset.  Possible calculations on that subset are to take earliest or latest time recorded, the median time recorded, or apply an interpolation to generate a point-estimate at the exact location.  The second method is to apply an interpolation algorithm to all observations from a given vehicle on each trip.  The tradeoff is that this may be more computation than required if not many along the trip are to be estimated.

\textbf{[Processing time - big data techniques required]}


Average vehicle speed is calculated as the difference between estimated arrival times at two points divided by the distance traveled.  A key assumption is that vehicle motion is monotonic (never reversing direction) along any given axis.  Approaches to account for variations in vehicle heading remain to be explored.  The size of the post-processed average speed data set depends on how many point-pairs within each trip are to be calculated.  A dataset reporting the total time (“block time'') and average speed, using only the beginning and end points, would be manageable for most typical desktop application; an entire year would be less than 1GB and could be organized by month, route etc. for easier access.

Calculation of headway also requires estimates of all vehicles' arrival times at a certain location.  Missing estimates (whether due to the data generating process or the estimation algorithm) must be identified, as skipping them may result in an overstatement, based on the time between two or more vehicles' arrivals.  A compiled, processed dataset supporting headway measurement -- that is, containing arrival times of each trip at each stop -- is approximately 2M rows per day of operations.  While the calculations on selected data are simple enough for any typical desktop application, the total size of the database (50-100GB) would require additional hardware and a database management system.

Wait Assessment is a metric used by New York City Transit, defined in the Transit Capacity and Quality of Service Manual as the percentage of actual headways between successive vehicle arrivals that are less than or equal to a given standard.  For example the standard for transit lines operating at XXX scheduled headway is +3 mins during peak hours and +5 mins during off-peak hours.  Peak hours are defined as 6am to 9am and 4pm to 7pm.  Wait Assessment is a simple calculation that can be performed after all headway calculations have been performed for a given location.

\textbf{Some of Jiaxu's part here.}

\begin{itemize}
\item Higher-Level Analysis (demonstration of data applied)
\item Trends along a route - small data (after processing headway data)
\item Time-period partitions - small data (after processing block time data)
\item Interruptions - medium data (after processing speed data)
\item Recurring events - small data (after processing interruptions data)
\end{itemize}





\subsection{}

\newpage

\section{Results and implications for practice}

\begin{itemize}


\item Central message

\begin{itemize}
\item MTA provides the public API but it is impossible to fully replicate the density of the data they keep internally.

\item Density (time and spatial) may be sufficient for stop and route reliability metrics, but questionable for vehicle speed measurement. (?)

\item Processing of raw data into useful measurements requires more power than offered by a typical personal computer.
\end{itemize}

\item The impact of our results on DOT operations and decision making depends on the to-be-discussed tradeoffs between required accuracy, easy of use, and investment in IT processes.

\end{itemize}



 

\subsection{Data quality assessment}
Gaps (Time dimension)
Missing observations occur XXXX often
XX% of gaps occur when there is a gap in the API response time, although we cannot rule out an error in the AVL signal
Missing observations ARE/ARE NOT correlated to….
Location (Spatial dimensions)
Coordinates now appear to be projected on to route shape-lines, likely in order to correct for signal noise or simplify distance-along-route calculations
Buses were equipped with Dead Reckoning Units in XXXX, improving location accuracy compared to 2014
Published Bus Stop locations ARE/ARE NOT specific enough to analyze position of stop around intersection/street features
Attributes (line/trip)
Unknown data generating process: Vehicle hardware measures location and time automatically.  The driver inputs, at a minimum, the line and the headsign (destination of the trip).  This process dependency is a potential source of error. It is unknown how additional elements are determined the resulting rate of error.
XX percent of scheduled trips have no reported data in BusTime.  Unknown if that is a technical issue or a ''cancelled trip''
XX percent of trips have BusTime data have no reported data near the beginning or end. Unknown if that is a technical issue or truncated trip.
Potentially running one simple exercise (one line)
Potentially mapping a heatmap of the delay (by one sample metric, does not need to be definitive) by stations/lines
Through the big data technique, we can analyse the whole year data of all the bus lines by using the bus runtime dataset and bus schedule dataset.
Although the dataset given for 2015 is not perfectly collected since missing observations occur quite often, in the large scale, we should be able to predict the delay by using some basic statistical criterias such as standard deviation and mean.

\subsection{Discussion about the theory}


Data Extraction and organization
Our data extraction step picks the useful information from the original json and dumps the redundancies. This step shrinks file size by 30 times and facilitates the future analysis.
Our data organization step turns messy json file into human readable and executable csv that can even been easily analysed through Excel by anyone.


\begin{figure}[!ht]
  \caption{Original sample extraction from DOT.}
  \centering
    \includegraphics[scale=0.6]{/home/saf537/Documents/CUSP/Capstone/Bus-Capstone/plots/DOT}
\end{figure}

\begin{figure}[!ht]
  \caption{Our data extraction using Spark.}
  \centering
    \includegraphics[scale=0.6]{/home/saf537/Documents/CUSP/Capstone/Bus-Capstone/plots/Spark}
\end{figure}


[Location estimation methods and their impact on measured reliability]
Compare distributions generated from each method
Compare computation time
Also compare to ground-truth, if available
Recommend, based on the tradeoff (if any)

What are the risks? What are the advantages of the approach?
Risks
Reproducibility - dependence on public API feed
Reproducibility - Framework Dependency such as HDFS and Spark
Big data technique requires HDFS and Spark dependencies. It may take some time and resources to install them
Advantages
Big Data Technique
Open source
HDFS and Spark are both open sourced, which means no extra investment is necessary
Ease to share and reproduce
Since big data is very new technology (Spark is release in few years), we are trying to keep all the data manipulation in simple SQL script. 
DOT can easily change SQL script to fulfill their demand and no extra operation is needed. 
What is required for the approach to be applied in practice/cities today?
Processing of raw data into information (e.g. at stop level) requires big-data techniques for anything beyond small samples (e.g. one day / one line)
Processed data structure is straightforward but still too large for single/dual-core applications.
Data supporting higher-level analysis techniques can be managed with any off-the-shelf database system, including sqLite (open source SQL) or even a series of CSVs
What ethical or privacy considerations are important to the application of the project? 
Implications about causes of variance in bus performance (e.g. infrequent but long dwell time for customer with disability)
Vehicle ID is public and not anonymized. 
While the MTA does not publish archived BusTime data (except for a sample in 2014), we are providing the code for anybody to collect it


\subsection{Conclusions and future work}

\subsubsection{Conclusions}

This project studies the bus performance in New York City and its correlation metrics based on the GPS data offered by MTA. The MTA bus GPS database collects the location of each bus every 30 seconds. After estimating the departure and arrival time for each bus at each stop, we use measurement like headways and wait assessment to figure out the bus performance and reliability. Aimed at helping DOT improve the bus performance efficiently, the metrics focus on not only bus operation element, but also on other traffic aspects. Taking one-year data as our object of study, the data is extremely huge so that big data technology like Spark is widely used in this project. In order to make our work easy to share and reproduce, we choose to use SQL API to manipulate the data, which enable DOT to easily make change by editing the SQL script. 
Conclusion for the model we use. (Introduction, Pros and Cons, Bias)
Model for time estimation
Measurement for bus performance
Method for feature selection
Conclusion for the results we get. (How the result influence the future operation)
Conclusion for the whole analysis process. (Pros and Cons, Bias, Influence)
Pros:
1. Focus on the viewpoint of DOT, the correlation elements we chose not only focus on the bus operation, but also other traffic elements.
2. With such large dataset and big data technique, the result of our analysis is more persuasive compared to traditional sample study.
3. Comparison among models(different models to estimate time as well as to measure performance)
Cons:
1. The choice of elements based on formal studies, the objective of which are not all NYC.
2. Too much assumptions.
3. The departure and arrival time for each bus at each stop comes from indirect approximate methods, it is better for MTA to collect the accurate data to help the model works better.
Influence：
The main goal for us is to figure out the other potential influence factor besides operation to help DOT control and improve bus performance on planning level. Similar methodology and concept could be used in other cities and traffic mode. The big data technology applied in not only traffic analysis but also city wide urban issue offers more reliable result compared with traditional sample studies. 


\subsubsection{Future work}

\begin{itemize}
\item Inference study of the effect of several traffic or design conditions on reliability.
\item Improve the current visualization tool, and adapt it to be responsive and interactive to different queries.
\item Have a more detailed work flow including our code, to be easily implemented into every day tasks in the DOT.
\item Further optimize the algorithms hereby used for the Big Data portion of the work.
\item Further Applications
\begin{itemize}
\item Other cities (need to pay attention to data structure, bus GPS data in some cities collect departure and arrival time instead of location).
\item Other traffic mode (eg. Subway, city bike. Need to pay attention to the different features of each kinds of traffic mode).
\end{itemize}
\end{itemize}



\begin{thebibliography}{9}

\bibitem{LinZeng}
W. H. Lin and J. Zeng, "An experimental study of real-time bus arrival time prediction with GPS data," Transp. Res. Rec., no. 1666, pp. 101- 109, Jan. 1999.

\bibitem{Rajbhandari}
Rajat Rajbhandari, Steven I. Chien, and Janice R. Daniel, “Estimation of bus dwell times with APC information”, Transportation Research Record 1841 Paper No. 03- 2675, 2003

\bibitem{TangLi}
Min-Tang Li, Fang Zhao, Lee-Fang Chow, Haitao Zhang, and Shi-Chiang Li, Simulation Model for Estimating Bus Dwell Time by Simultaneously Considering Numbers of Disembarking and
Boarding Passengers, Transportation Research Record 1971, 2006

\bibitem{Fazhi}
LI Fazhi, YANG Dongyuan and MA Kai, BUS RAPID TRANSIT (BRT) BUNCHING ANALYSIS WITH MASSIVE GPS DAT, National Science and Technology Support Program of China (NO. 2009BAG17B01), 2013

\bibitem{Levine}
Brian Levine, Alex Lu,Alla Reddy, Measuring Subway Service Performance at New York City Transit: A Case Study Using Automated Train Supervision (ATS) Track- Occupancy Data, TRB 2013 Annual Meeting, 2013

\bibitem{DanWan}
Dan Wan, Camille Kamga, Jun Liu, Aaron Sugiura, Eric B. Beaton, Rider perception of a “light” Bus Rapid Transit system - The New York City Select Bus Service, Transport Policy 49 (2016) 41–55, Apr. 2016.

\bibitem{Bie}
Yiming Bie, Xiaolin Gong, Zhiyuan Liu, Time of day intervals partition for bus schedule using GPS data, Transportation Research Part C 60 (2015) 443–456, Sep. 2015.

\bibitem{Safran}
Jeremy S. Safran, Eric B. Beaton, Robert Thompson, Factors Contributing to Bus Lane Obstruction and Usage in NYC: Does Design Matter? TRB 2014 Annual Meeting, 2014
 
\bibitem{Pangilinan}
Christopher Pangilinan, Nigel Wilson, and Angela Moore, Bus Supervision Deployment Strategies and Use of Real-Time Automatic
Vehicle Location for Improved
Bus Service Reliability, Transportation Research Record: Journal of the Transportation Research Board, No. 2063, Transportation Research Board of the National Academies, Washington, D.C., 2008, pp. 28–33.
DOI: 10.3141/2063-04
\bibitem{Yang}
Yingxiang Yang, David Gerstle, Peter Widhalm, Dietmar Bauer, The potential of low-frequency AVL data for the monitoring and control of bus performance, TRB 2013 Annual Meeting, 2013.

\bibitem{An}
Shi An, Xinming Zhang and Jian Wang, Finding Causes of Irregular Headways Integrating Data Mining and AHP, ISPRS Int. J. Geo-Inf. 2015, 4, 2604-2618; DOI:10.3390/ijgi4042604, Nov. 2015.

\bibitem{Chang}
Jinil Chang, Mohamad Tala, Satya Muthuswamy, A SIMPLE METHODOLOGY TO ESTIMATE QUEUE LENGTHS AT SIGNALIZED INTERSECTIONS USING DETECTOR DATA, TRB 2013 Annual Meeting, 2013




\end{thebibliography}

\end{document}

%-------------------------------------------------------------------------------
% SNIPPETS
%-------------------------------------------------------------------------------

%\begin{figure}[!ht]
%	\centering
%	\includegraphics[width=0.8\textwidth]{file_name}
%	\caption{}
%	\centering
%	\label{label:file_name}
%\end{figure}

%\begin{figure}[!ht]
%	\centering
%	\includegraphics[width=0.8\textwidth]{graph}
%	\caption{Blood pressure ranges and associated level of hypertension (American Heart Association, 2013).}
%	\centering
%	\label{label:graph}
%\end{figure}

%\begin{wrapfigure}{r}{0.30\textwidth}
%	\vspace{-40pt}
%	\begin{center}
%		\includegraphics[width=0.29\textwidth]{file_name}
%	\end{center}
%	\vspace{-20pt}
%	\caption{}
%	\label{label:file_name}
%\end{wrapfigure}

%\begin{wrapfigure}{r}{0.45\textwidth}
%	\begin{center}
%		\includegraphics[width=0.29\textwidth]{manometer}
%	\end{center}
%	\caption{Aneroid sphygmomanometer with stethoscope (Medicalexpo, 2012).}
%	\label{label:manometer}
%\end{wrapfigure}

%\begin{table}[!ht]\footnotesize
%	\centering
%	\begin{tabular}{cccccc}
%	\toprule
%	\multicolumn{2}{c} {Pearson's correlation test} & \multicolumn{4}{c} {Independent t-test} \\
%	\midrule	
%	\multicolumn{2}{c} {Gender} & \multicolumn{2}{c} {Activity level} & \multicolumn{2}{c} {Gender} \\
%	\midrule
%	Males & Females & 1st level & 6th level & Males & Females \\
%	\midrule
%	\multicolumn{2}{c} {BMI vs. SP} & \multicolumn{2}{c} {Systolic pressure} & \multicolumn{2}{c} {Systolic Pressure} \\
%	\multicolumn{2}{c} {BMI vs. DP} & \multicolumn{2}{c} {Diastolic pressure} & \multicolumn{2}{c} {Diastolic pressure} \\
%	\multicolumn{2}{c} {BMI vs. MAP} & \multicolumn{2}{c} {MAP} & \multicolumn{2}{c} {MAP} \\
%	\multicolumn{2}{c} {W:H ratio vs. SP} & \multicolumn{2}{c} {BMI} & \multicolumn{2}{c} {BMI} \\
%	\multicolumn{2}{c} {W:H ratio vs. DP} & \multicolumn{2}{c} {W:H ratio} & \multicolumn{2}{c} {W:H ratio} \\
%	\multicolumn{2}{c} {W:H ratio vs. MAP} & \multicolumn{2}{c} {\% Body fat} & \multicolumn{2}{c} {\% Body fat} \\
%	\multicolumn{2}{c} {} & \multicolumn{2}{c} {Height} & \multicolumn{2}{c} {Height} \\
%	\multicolumn{2}{c} {} & \multicolumn{2}{c} {Weight} & \multicolumn{2}{c} {Weight} \\
%	\multicolumn{2}{c} {} & \multicolumn{2}{c} {Heart rate} & \multicolumn{2}{c} {Heart rate} \\
%	\bottomrule
%	\end{tabular}
%	\caption{Parameters that were analysed and related statistical test performed for current study. BMI - body mass index; SP - systolic pressure; DP - diastolic pressure; MAP - mean arterial pressure; W:H ratio - waist to hip ratio.}
%	\label{label:tests}
%\end{table}